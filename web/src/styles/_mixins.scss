@use "sass:color";
@use "variables" as *;

//
// Horizontal Scroll Container Mixin
// Creates a horizontal scrolling list on mobile devices
// Includes padding and negative margin for breaking out of parent padding
//

@mixin horizontal-scroll-container {
  @media (max-width: $breakpoint-mobile) {
    display: flex;
    flex-direction: row;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; /* Firefox */

    &::-webkit-scrollbar {
      display: none; /* Chrome, Safari */
    }

    /* Add padding for first and last items */
    padding-left: $spacing-md;
    padding-right: $spacing-md;

    /* Negative margin to break out of parent padding */
    margin-right: calc(-1 * $spacing-md);
  }
}

//
// Horizontal Scroll Container (Simple)
// Creates a horizontal scrolling list without padding/margin adjustments
// Use for tabs, nav, and other cases where padding is handled separately
//

@mixin horizontal-scroll-container-simple {
  @media (max-width: $breakpoint-mobile) {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; /* Firefox */

    &::-webkit-scrollbar {
      display: none; /* Chrome, Safari */
    }
  }
}

//
// Horizontal Scroll Item Mixin
// Styles individual items in a horizontal scroll container
//

@mixin horizontal-scroll-item {
  @media (max-width: $breakpoint-mobile) {
    flex-shrink: 0;
    width: calc(
      100vw - ($spacing-md * 4)
    ); /* Full width minus padding on both sides */
    scroll-snap-align: start;
  }
}

//
// Base Card Mixin
// Common card styles with color theming
//

@mixin base-card($color) {
  background-color: rgba($color: $color, $alpha: 0.1);
  border: $border-thin solid $color;
  border-radius: $radius-card;
  padding: $spacing-md;
  display: flex;
  flex-direction: column;
  gap: $spacing-sm;
  transition: all $transition-normal ease;

  @media (max-width: $breakpoint-mobile) {
    @include horizontal-scroll-item;
  }
}

//
// Card Header Mixin
// Common header layout with responsive behavior
// Includes icon+title wrapper and distance display
//

@mixin card-header($color, $icon-weight: $font-weight-normal, $include-wrapper: true, $h3-flex: false) {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: $spacing-sm;

  @media (max-width: $breakpoint-mobile) {
    flex-direction: column;
    gap: $spacing-xs;
  }

  @if $include-wrapper {
    > div {
      display: flex;
      align-items: center;
      gap: $spacing-xs;
      flex: 1;
    }
  }

  i {
    font-size: $size-body;
    font-weight: $icon-weight;
    color: $color;
    flex-shrink: 0;
  }

  h3 {
    font-size: $size-body;
    font-weight: $font-weight-bold;
    color: $color;
    margin: 0;
    @if $h3-flex {
      flex: 1;
    }
  }

  .distance {
    @include distance-display($color);
  }
}

//
// Distance Display Mixin
// Common distance indicator styling
//

@mixin distance-display($color) {
  display: flex;
  align-items: center;
  gap: $spacing-xxs;
  font-size: $size-body-small;
  color: rgba($color: $color, $alpha: 0.75);
  white-space: nowrap;

  i {
    font-size: $size-body-small;
    font-weight: $font-weight-normal;
    color: $color;
    flex-shrink: 0;
  }
}

//
// Address Display Mixin
// Common two-line address styling
//

@mixin address-display {
  p {
    font-size: $size-body;
    color: $black;
    margin: 0;
  }

  .street-line {
    display: block;
  }

  .municipality-line {
    display: block;
  }
}

//
// Button Variant Mixin
// Creates button variants (solid or outline) with consistent hover behavior
//

@mixin button-variant(
  $bg-color,
  $text-color: $background-white,
  $is-outline: false
) {
  @if $is-outline {
    background-color: transparent;
    color: $bg-color;
    border: $border-regular solid $bg-color;

    &:hover {
      background-color: $bg-color;
      color: $text-color;
    }
  } @else {
    background-color: $bg-color;
    color: $text-color;

    &:hover {
      background-color: color.adjust($bg-color, $lightness: -8%);
    }
  }
}

//
// Badge Variant Mixin
// Creates badge variants with consistent styling
//

@mixin badge-variant(
  $bg-color: null,
  $text-color: $black,
  $border-color: null
) {
  @if $bg-color {
    background-color: $bg-color;
    color: $text-color;
  }

  @if $border-color {
    border: $border-thin solid $border-color;
  }
}
