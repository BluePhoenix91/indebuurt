---
import NeighborhoodCard from "../components/NeighborhoodCard.astro";
import { neighborhoods } from "../data/neighborhoods";
import NeighborhoodLayout from "../layouts/NeighborhoodLayout.astro";

// Get all neighborhoods and sort by date added (most recent first)
const allNeighborhoods = Object.values(neighborhoods).sort(
  (a, b) => new Date(b.dateAdded).getTime() - new Date(a.dateAdded).getTime()
);

// Get the 3 most recent neighborhoods
const recentNeighborhoods = allNeighborhoods.slice(0, 3);
---

<NeighborhoodLayout
  title="Buurtkompas - Vind de perfecte hondvriendelijke buurt"
  description="Ontdek hondvriendelijke buurten in België. Vind de perfecte plek voor jou en je hond met gedetailleerde informatie over voorzieningen, parken en meer."
  canonical="https://buurtkompas.be/"
>
  <section class="hero">
    <div class="hero-wrapper-index">
      <div class="hero-content-index">
        <h1 class="text-h1">Buurtkompas</h1>
        <p class="text-body bold mt-sm">
          Ontdek buurten in Gent vanuit het perspectief van hondeneigenaars.
        </p>
        <p class="text-body mt-sm">
          Data én echte ervaringen, speciaal voor hondenliefhebbers.
        </p>
      </div>
    </div>
  </section>

  <div class="container">
    <section class="about-section">
      <h2 class="text-h2">Wat is Buurtkompas</h2>
      <div class="about-content">
        <p>
          Buurtkompas helpt hondeneigenaars buurten ontdekken op straatniveau.
          Geen grote stadsstatistieken van een half jaar oud — maar hyperlokale
          info over groen, veiligheid, hondvriendelijkheid, wandelroutes en
          voorzieningen in de buurt. Perfect voor wie écht wil weten hoe het
          leven daar voelt.
        </p>
      </div>
    </section>

    <section class="all-neighborhoods-section">
      <h2 class="text-h2">Buurten die je nu kan ontdekken</h2>
      <p class="mt-sm">
        Hieronder vind je alle buurten die we momenteel al geanalyseerd hebben:
      </p>
      <div class="neighborhood-cards-grid">
        {
          allNeighborhoods.map((neighborhood) => (
            <a href={`/buurt/${neighborhood.id}`} class="card-link">
              <NeighborhoodCard
                title={neighborhood.name}
                date={neighborhood.dateAdded}
                description={neighborhood.intro.split("\n\n")[0]}
                tags={neighborhood.labels}
                color="primary"
              />
            </a>
          ))
        }
      </div>
    </section>

    <section class="recent-neighborhoods-section">
      <h2 class="text-h2">Recentste buurten</h2>
      <div class="neighborhood-cards-grid">
        {
          recentNeighborhoods.map((neighborhood) => (
            <a href={`/buurt/${neighborhood.id}`} class="card-link">
              <NeighborhoodCard
                title={neighborhood.name}
                date={neighborhood.dateAdded}
                description={neighborhood.intro.split("\n\n")[0]}
                tags={neighborhood.labels}
                color="accent-2"
              />
            </a>
          ))
        }
      </div>
    </section>
  </div>
</NeighborhoodLayout>
